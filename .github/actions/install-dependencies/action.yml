name: Install Dependencies
description: Use node and install the project dependencies
inputs:
  NX_CLOUD_ACCESS_TOKEN:
    required: true
    description: 'Nx Cloud access token'

runs:
  using: 'composite'
  steps:
    - name: âŽ” Use Node.js
      uses: actions/setup-node@v3
      with:
        node-version: '18.x'
        cache: 'yarn'
    - name: âŽ” Set yarn version
      shell: bash
      run: yarn set version 4.0.0-rc.48
    - name: ðŸ“¥ Install dependencies
      shell: bash
      run: yarn install --frozen-lockfile
    - name: Add NX_CLOUD_ACCESS_TOKEN to nx-cloud.env
      shell: bash
      run: echo "NX_CLOUD_ACCESS_TOKEN=${{ inputs.NX_CLOUD_ACCESS_TOKEN }}" >> nx-cloud.env
